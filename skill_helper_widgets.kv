#:import skill_helper_widgets skill_helper_widgets
<SkillItem>:
    orientation: 'horizontal'
    spacing: 5
    name: ""
    max_time: 100
    time: 0
    description: ""
    item_id: 0
    importance: 0
    Label:
        text: root.name
    ProgressBar:
        size_hint: 0.8, 1
        value_normalized: float(root.time / root.max_time) if root.max_time > 0 else 0
    ColoredIndicator:
        size_hint: 0.1, 1
        val: root.importance
    Label:
        text: str(round(root.time, 2))

<TaskItem>:
    orientation: 'horizontal'
    spacing: 5
    name: ""
    max_time: 100
    time: 0
    description: ""
    item_id: 0
    importance: 0
    Label:
        text: root.name
    ProgressBar:
        size_hint: 0.8, 1
        value_normalized: float(root.time / root.max_time) if root.max_time > 0 else 0
    ColoredIndicator:
        size_hint: 0.1, 1
        val: root.importance
    Label:
        text: str(round(root.time, 2))


<Timer>:
    orientation: 'vertical'
    timer: _timer
    Label:
        id: _timer
        text: "Timer"
    BoxLayout:
        orientation: 'horizontal'
        Button:
            text: "Start"
            on_press: root.start()
        Button:
            text: "Pause"
            on_press: root.pause()
        Button:
            text: "Finish"
            on_press: root.finish()


<ColoredIndicator>:
    canvas.after:
        Color:
            hsv: self.byr_colormap(self.val)
        Rectangle:
            size: self.size[0], self.size[0]
            pos: self.pos[0], self.center_y - self.size[0]/2

<ImportanceSlider>:
    min: 0
    max: 1
    step: 0.05
    value: 0.5
    orientation: "horizontal"
    value_track: True

